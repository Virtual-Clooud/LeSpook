[gd_scene load_steps=17 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]
[ext_resource path="res://player.gd" type="Script" id=2]
[ext_resource path="res://grass.png" type="Texture" id=3]
[ext_resource path="res://observador.gd" type="Script" id=4]
[ext_resource path="res://lamp.gd" type="Script" id=5]

[sub_resource type="Environment" id=6]
background_color = Color( 0.0470588, 0.0470588, 0.0980392, 1 )
background_energy = 2.0
ambient_light_color = Color( 0.027451, 0.054902, 0.027451, 1 )
ambient_light_energy = 1.5
fog_enabled = true
fog_color = Color( 0.0509804, 0.0666667, 0.054902, 1 )
fog_sun_color = Color( 1, 0.901961, 0.701961, 0 )
fog_depth_begin = 5.0
fog_depth_end = 25.0
fog_depth_curve = 0.277392
fog_transmit_enabled = true
fog_transmit_curve = 0.267944

[sub_resource type="BoxShape" id=11]
extents = Vector3( 0.201862, 0.326022, 0.327914 )

[sub_resource type="CapsuleShape" id=1]
radius = 0.342157
height = 0.552877

[sub_resource type="SpatialMaterial" id=12]
albedo_texture = ExtResource( 3 )

[sub_resource type="CubeMesh" id=13]
material = SubResource( 12 )
size = Vector3( 2, 0.1, 2 )

[sub_resource type="NavigationMesh" id=16]

[sub_resource type="BoxShape" id=15]

[sub_resource type="MeshLibrary" id=14]
item/0/name = "ch√£o"
item/0/mesh = SubResource( 13 )
item/0/mesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
item/0/shapes = [ SubResource( 15 ), Transform( 2, 0, 0, 0, 0.2, 0, 0, 0, 2, 0, 0, 0 ) ]
item/0/navmesh = SubResource( 16 )
item/0/navmesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[sub_resource type="SpatialMaterial" id=19]
albedo_texture = ExtResource( 1 )
uv1_scale = Vector3( 2.5, 2, 1 )
uv1_offset = Vector3( -0.757, 0, 0 )

[sub_resource type="CubeMesh" id=20]
material = SubResource( 19 )

[sub_resource type="BoxShape" id=21]

[node name="EmptyForest" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[node name="player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.83904, -0.330838, 0 )
script = ExtResource( 2 )
maxSpeed = 7.0

[node name="hud" type="Control" parent="player"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="TextureProgress" type="TextureProgress" parent="player/hud"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -320.0
margin_top = 228.0
margin_right = -256.0
margin_bottom = 292.0
rect_scale = Vector2( 10, 1 )
step = 0.5
texture_under = ExtResource( 1 )
texture_over = ExtResource( 1 )
texture_progress = ExtResource( 1 )
fill_mode = 6
tint_under = Color( 1, 0, 0, 1 )
tint_over = Color( 0.745098, 0.658824, 0.658824, 0 )
tint_progress = Color( 0, 0.0862745, 1, 1 )

[node name="CollisionShape" type="CollisionShape" parent="player"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 11 )

[node name="Camera" type="Camera" parent="player"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0 )
doppler_tracking = 2
current = true
fov = 90.0
far = 20.0

[node name="lamp" type="Sprite3D" parent="player/Camera"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.16063, -0.539368, -1.3 )
cast_shadow = 0
billboard = 1
shaded = true
texture = ExtResource( 1 )
script = ExtResource( 5 )

[node name="SpotLight" type="SpotLight" parent="player/Camera/lamp"]
light_color = Color( 0.913725, 0.611765, 0.290196, 1 )
light_energy = 4.0
shadow_enabled = true
shadow_reverse_cull_face = true
spot_range = 8.26419
spot_angle = 56.4347

[node name="OmniLight" type="OmniLight" parent="player/Camera/lamp"]
light_color = Color( 0.964706, 0.627451, 0.384314, 1 )
light_energy = 2.0
light_indirect_energy = 0.0
light_specular = 0.0
light_bake_mode = 0
shadow_enabled = true
shadow_bias = 0.2
omni_range = 14.0
omni_attenuation = 4.14106

[node name="Tween" type="Tween" parent="player/Camera/lamp"]

[node name="hit_area" type="Area" parent="player"]

[node name="CollisionShape2" type="CollisionShape" parent="player/hit_area"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 1 )

[node name="espreitador" type="KinematicBody" parent="."]

[node name="cavaleiro" type="KinematicBody" parent="."]

[node name="GridMap2" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.71498, 0 )
mesh_library = SubResource( 14 )
cell_size = Vector3( 10, 2, 10 )
cell_scale = 5.0
data = {
"cells": PoolIntArray( -196608, 0, 0, -196607, 0, 0, -196606, 0, 0, -196605, 0, 0, -196604, 0, 0, -196603, 0, 0, -196602, 0, 0, -196601, 0, 0, -196600, 0, 0, -196599, 0, 0, -196598, 0, 0, -196597, 0, 0, -196596, 0, 0, -196595, 0, 0, -131078, 0, 0, -131077, 0, 0, -131076, 0, 0, -131075, 0, 0, -131074, 0, 0, -131073, 0, 0, -196608, 1, 0, -196607, 1, 0, -196606, 1, 0, -196605, 1, 0, -196604, 1, 0, -196603, 1, 0, -196602, 1, 0, -196601, 1, 0, -196600, 1, 0, -196599, 1, 0, -196598, 1, 0, -196597, 1, 0, -196596, 1, 0, -196595, 1, 0, -131078, 1, 0, -131077, 1, 0, -131076, 1, 0, -131075, 1, 0, -131074, 1, 0, -131073, 1, 0, -196608, 2, 0, -196607, 2, 0, -196606, 2, 0, -196605, 2, 0, -196604, 2, 0, -196603, 2, 0, -196602, 2, 0, -196601, 2, 0, -196600, 2, 0, -196599, 2, 0, -196598, 2, 0, -196597, 2, 0, -196596, 2, 0, -196595, 2, 0, -131078, 2, 0, -131077, 2, 0, -131076, 2, 0, -131075, 2, 0, -131074, 2, 0, -131073, 2, 0, -196608, 3, 0, -196607, 3, 0, -196606, 3, 0, -196605, 3, 0, -196604, 3, 0, -196603, 3, 0, -196602, 3, 0, -196601, 3, 0, -196600, 3, 0, -196599, 3, 0, -196598, 3, 0, -196597, 3, 0, -196596, 3, 0, -196595, 3, 0, -131078, 3, 0, -131077, 3, 0, -131076, 3, 0, -131075, 3, 0, -131074, 3, 0, -131073, 3, 0, -196608, 4, 0, -196607, 4, 0, -196606, 4, 0, -196605, 4, 0, -196604, 4, 0, -196603, 4, 0, -196602, 4, 0, -196601, 4, 0, -196600, 4, 0, -196599, 4, 0, -196598, 4, 0, -196597, 4, 0, -196596, 4, 0, -196595, 4, 0, -131078, 4, 0, -131077, 4, 0, -131076, 4, 0, -131075, 4, 0, -131074, 4, 0, -131073, 4, 0, -196608, 5, 0, -196607, 5, 0, -196606, 5, 0, -196605, 5, 0, -196604, 5, 0, -196603, 5, 0, -196602, 5, 0, -196601, 5, 0, -196600, 5, 0, -196599, 5, 0, -196598, 5, 0, -196597, 5, 0, -196596, 5, 0, -196595, 5, 0, -131078, 5, 0, -131077, 5, 0, -131076, 5, 0, -131075, 5, 0, -131074, 5, 0, -131073, 5, 0, -196608, 65526, 0, -196607, 65526, 0, -196606, 65526, 0, -196605, 65526, 0, -196604, 65526, 0, -196603, 65526, 0, -196602, 65526, 0, -196601, 65526, 0, -196600, 65526, 0, -196599, 65526, 0, -196598, 65526, 0, -196597, 65526, 0, -196596, 65526, 0, -196595, 65526, 0, -131078, 65526, 0, -131077, 65526, 0, -131076, 65526, 0, -131075, 65526, 0, -131074, 65526, 0, -131073, 65526, 0, -196608, 65527, 0, -196607, 65527, 0, -196606, 65527, 0, -196605, 65527, 0, -196604, 65527, 0, -196603, 65527, 0, -196602, 65527, 0, -196601, 65527, 0, -196600, 65527, 0, -196599, 65527, 0, -196598, 65527, 0, -196597, 65527, 0, -196596, 65527, 0, -196595, 65527, 0, -131078, 65527, 0, -131077, 65527, 0, -131076, 65527, 0, -131075, 65527, 0, -131074, 65527, 0, -131073, 65527, 0, -196608, 65528, 0, -196607, 65528, 0, -196606, 65528, 0, -196605, 65528, 0, -196604, 65528, 0, -196603, 65528, 0, -196602, 65528, 0, -196601, 65528, 0, -196600, 65528, 0, -196599, 65528, 0, -196598, 65528, 0, -196597, 65528, 0, -196596, 65528, 0, -196595, 65528, 0, -131078, 65528, 0, -131077, 65528, 0, -131076, 65528, 0, -131075, 65528, 0, -131074, 65528, 0, -131073, 65528, 0, -196608, 65529, 0, -196607, 65529, 0, -196606, 65529, 0, -196605, 65529, 0, -196604, 65529, 0, -196603, 65529, 0, -196602, 65529, 0, -196601, 65529, 0, -196600, 65529, 0, -196599, 65529, 0, -196598, 65529, 0, -196597, 65529, 0, -196596, 65529, 0, -196595, 65529, 0, -131078, 65529, 0, -131077, 65529, 0, -131076, 65529, 0, -131075, 65529, 0, -131074, 65529, 0, -131073, 65529, 0, -196608, 65530, 0, -196607, 65530, 0, -196606, 65530, 0, -196605, 65530, 0, -196604, 65530, 0, -196603, 65530, 0, -196602, 65530, 0, -196601, 65530, 0, -196600, 65530, 0, -196599, 65530, 0, -196598, 65530, 0, -196597, 65530, 0, -196596, 65530, 0, -196595, 65530, 0, -131078, 65530, 0, -131077, 65530, 0, -131076, 65530, 0, -131075, 65530, 0, -131074, 65530, 0, -131073, 65530, 0, -196608, 65531, 0, -196607, 65531, 0, -196606, 65531, 0, -196605, 65531, 0, -196604, 65531, 0, -196603, 65531, 0, -196602, 65531, 0, -196601, 65531, 0, -196600, 65531, 0, -196599, 65531, 0, -196598, 65531, 0, -196597, 65531, 0, -196596, 65531, 0, -196595, 65531, 0, -131078, 65531, 0, -131077, 65531, 0, -131076, 65531, 0, -131075, 65531, 0, -131074, 65531, 0, -131073, 65531, 0, -196608, 65532, 0, -196607, 65532, 0, -196606, 65532, 0, -196605, 65532, 0, -196604, 65532, 0, -196603, 65532, 0, -196602, 65532, 0, -196601, 65532, 0, -196600, 65532, 0, -196599, 65532, 0, -196598, 65532, 0, -196597, 65532, 0, -196596, 65532, 0, -196595, 65532, 0, -131078, 65532, 0, -131077, 65532, 0, -131076, 65532, 0, -131075, 65532, 0, -131074, 65532, 0, -131073, 65532, 0, -196608, 65533, 0, -196607, 65533, 0, -196606, 65533, 0, -196605, 65533, 0, -196604, 65533, 0, -196603, 65533, 0, -196602, 65533, 0, -196601, 65533, 0, -196600, 65533, 0, -196599, 65533, 0, -196598, 65533, 0, -196597, 65533, 0, -196596, 65533, 0, -196595, 65533, 0, -131078, 65533, 0, -131077, 65533, 0, -131076, 65533, 0, -131075, 65533, 0, -131074, 65533, 0, -131073, 65533, 0, -196608, 65534, 0, -196607, 65534, 0, -196606, 65534, 0, -196605, 65534, 0, -196604, 65534, 0, -196603, 65534, 0, -196602, 65534, 0, -196601, 65534, 0, -196600, 65534, 0, -196599, 65534, 0, -196598, 65534, 0, -196597, 65534, 0, -196596, 65534, 0, -196595, 65534, 0, -131078, 65534, 0, -131077, 65534, 0, -131076, 65534, 0, -131075, 65534, 0, -131074, 65534, 0, -131073, 65534, 0, -196608, 65535, 0, -196607, 65535, 0, -196606, 65535, 0, -196605, 65535, 0, -196604, 65535, 0, -196603, 65535, 0, -196602, 65535, 0, -196601, 65535, 0, -196600, 65535, 0, -196599, 65535, 0, -196598, 65535, 0, -196597, 65535, 0, -196596, 65535, 0, -196595, 65535, 0, -131078, 65535, 0, -131077, 65535, 0, -131076, 65535, 0, -131075, 65535, 0, -131074, 65535, 0, -131073, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, -3, 0 )
}

[node name="observador" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.7912, 0 )
script = ExtResource( 4 )

[node name="mesh" type="MeshInstance" parent="observador"]
mesh = SubResource( 20 )

[node name="Timer" type="Timer" parent="observador"]

[node name="CollisionShape" type="CollisionShape" parent="observador"]
shape = SubResource( 21 )

[connection signal="timeout" from="observador/Timer" to="observador" method="_on_Timer_timeout"]
